:root {
    --bg-1: #1a1b1f;
    --bg-2: #070708;
    --panel-bg: rgba(14, 14, 14, 0.68);
    --panel-border: rgba(205, 205, 205, 0.18);
    --text-main: rgba(228, 228, 228, 0.34);
    --text-soft: rgba(208, 208, 208, 0.2);
    --text-stroke-main: rgba(238, 238, 238, 0.38);
    --text-stroke-soft: rgba(220, 220, 220, 0.28);
    color-scheme: dark;
}

html {
    width: 100%;
    height: 100%;
    background: #050507;
    overflow: hidden;
}

body {
    margin: 0;
    overflow: hidden;
    width: 100%;
    min-height: 100vh;
    min-height: 100dvh;
    background: radial-gradient(1200px 700px at 15% -10%, var(--bg-1), var(--bg-2) 62%, #010101 100%);
    color: var(--text-main);
    font-family: 'Space Grotesk', 'Segoe UI', sans-serif;
    overscroll-behavior: none;
    -webkit-overflow-scrolling: auto;
}

#ui {
    position: fixed;
    top: max(18px, env(safe-area-inset-top));
    left: 50%;
    transform: translateX(-50%);
    width: min(92vw, 760px);
    text-align: center;
    pointer-events: none;
    z-index: 30;
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
}

#technique-name {
    font-size: clamp(1.05rem, 2vw, 1.55rem);
    color: transparent;
    -webkit-text-fill-color: transparent;
    -webkit-text-stroke: 1px var(--text-stroke-main);
    margin-top: 0.2rem;
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.06);
}

#ui-hint {
    margin: 0 auto;
    font-size: clamp(0.78rem, 1.4vw, 0.92rem);
    color: transparent;
    -webkit-text-fill-color: transparent;
    -webkit-text-stroke: 0.85px var(--text-stroke-soft);
    text-shadow: 0 0 6px rgba(255, 255, 255, 0.03);
    max-width: 56ch;
}

#video-container {
    position: fixed;
    right: max(16px, env(safe-area-inset-right));
    bottom: max(16px, env(safe-area-inset-bottom));
    width: min(34vw, 420px);
    aspect-ratio: 4 / 3;
    border: 1px solid var(--panel-border);
    z-index: 40;
    background: var(--panel-bg);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 45px rgba(0, 0, 0, 0.48), inset 0 0 0 1px rgba(225, 225, 225, 0.06);
    backdrop-filter: blur(8px);
    cursor: pointer;
    transition: background 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
}

#video-container::before {
    content: "Camera + Skeleton";
    position: absolute;
    top: 10px;
    left: 12px;
    z-index: 5;
    padding: 0.22rem 0.56rem;
    font-size: 0.68rem;
    font-weight: 500;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: transparent;
    -webkit-text-fill-color: transparent;
    -webkit-text-stroke: 0.8px rgba(234, 234, 234, 0.32);
    border-radius: 999px;
    background: rgba(8, 8, 8, 0.58);
    border: 1px solid rgba(202, 202, 202, 0.16);
}

#video-container[data-camera-mode="skeleton"]::before {
    content: "Skeleton Only";
}

#video-container[data-camera-mode="hidden"]::before {
    content: "Camera Hidden";
}

#video-container[data-camera-mode="hidden"] {
    background: rgba(8, 8, 8, 0.24);
    border-color: rgba(202, 202, 202, 0.12);
    box-shadow: inset 0 0 0 1px rgba(225, 225, 225, 0.04);
}

video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.92;
    display: block;
    transform: scaleX(-1);
    transition: opacity 160ms ease, visibility 160ms ease;
}

#output_canvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    transform: scaleX(-1);
    transition: opacity 160ms ease, visibility 160ms ease;
}

.webgl-bg {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    display: block;
}

@media (max-width: 960px) {
    #video-container {
        right: auto;
        left: 50%;
        transform: translateX(-50%);
        width: min(72vw, 340px);
    }
}

@media (max-width: 600px) {
    #ui {
        top: max(12px, env(safe-area-inset-top));
        gap: 0.32rem;
    }

    #technique-name {
        letter-spacing: 0.045em;
    }

    #ui-hint {
        width: min(90vw, 40ch);
    }

    #video-container {
        width: min(58vw, 230px);
        border-radius: 14px;
    }

    #video-container::before {
        top: 8px;
        left: 9px;
        font-size: 0.62rem;
    }
}
